<p-toast></p-toast>
<div class="admin-page">
    <div class="shops-list">
        <p-card header="Shops" subheader="List of all shops">
            <div class="table-upper-block">
                <button *ngIf="!procentBlock" class="procent-btn" (click)="_changeProcent()">Стандартный Процент</button>
                <div class="procent-div-block" *ngIf="procentBlock">
                  <form [formGroup]="protcentForm">
                    12 месяц:<input formControlName="procent12" type="number">
                    18 месяц:<input formControlName="procent18" type="number">
                    <button class="procent-btn margin-for-hidden-procent-btn" (click)="_hiddenProcent()">Отменить</button>
                    <button class="procent-btn" (click)="sendNewProcent()">Изменить Процент</button>
                  </form>
                </div>
                <button
                pButton
                class="add-btn"
                  icon="pi pi-plus"
                  routerLink="form"
                ></button>
              </div>

              <p-table [value]="shops" styleClass="default-table">
                <ng-template pTemplate="header">
                    <tr class="table-header">
                      <th pSortableColumn="name">
                        Название Магазина <p-sortIcon field="name"></p-sortIcon>
                      </th>
                      <th>Адресс Магазина</th>
                      <th>Тип Магазина</th>
                      <th>Проценты</th>
                      <th>Продавец Магазина</th>
                      <th>Номер Продавца</th>
                      <th>Почта Продавца</th>
                      <th>Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-shop of shops>
                    <tr>
                      <td class="td-left">{{shop.shopName}}</td>
                      <td>{{shop.shopAdress}}</td>
                      <td>{{shop.shopType}}</td>
                      <td>{{'12/18oy: ' + shop.procent12 + '%' + '/' +shop.procent18 + '%'}}</td>
                      <td>{{shop.shopuserName}}</td>
                      <td>{{shop.userPhone}}</td>
                      <td>{{shop.userEmail}}</td>
                      <td>
                        <button pButton pRipple class="btn-pencil"
                          (click)="updateShop(shop.id)"
                          icon="pi pi-pencil"
                        ></button>
                      </td>
                    </tr>
                  </ng-template>
              </p-table>
              <div class="table-footer"></div>
        </p-card>
    </div>
</div>
